/* Overlay for maximized image */
.image-overlay {
	position: fixed;
	z-index: 10000;
	top: 0; left: 0; right: 0; bottom: 0;
	background: rgba(0,0,0,0.92);
	display: flex;
	align-items: center;
	justify-content: center;
	flex-direction: column;
	padding: 2vw;
}
.image-overlay .overlay-img {
	max-width: 96vw;
	max-height: 92vh;
	box-shadow: 0 2px 24px #000a;
	border-radius: 8px;
	background: #fff;
}
.image-overlay .overlay-close {
	position: absolute;
	top: 2.5vw;
	right: 2.5vw;
	font-size: 2.5rem;
	background: none;
	border: none;
	color: #fff;
	cursor: pointer;
	z-index: 10001;
	padding: 0 .5rem;
	line-height: 1;
	border-radius: 4px;
	transition: background 0.2s;
}
.image-overlay .overlay-close:hover,
.image-overlay .overlay-close:focus {
	background: rgba(255,255,255,0.12);
	outline: none;
}
body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; margin:0; color:#222; background:#fafafa; }
/* Offset in-page anchor jumps to account for sticky header */
@media (max-width:750px){ html { scroll-padding-top: 180px; } }
@media (min-width:751px){ html { scroll-padding-top: 120px; } }
header { background:#fff; border-bottom:1px solid #ddd; position:sticky; top:0; z-index:10; }
header .inner { max-width:1100px; margin:0 auto; padding:1rem 1.25rem; }
.masthead { display:flex; align-items:flex-end; gap:1rem; }
.masthead-left { flex:1 1 auto; min-width:0; }
.masthead h1 { margin:0; font-size:2rem; }
.masthead h1 a { color:inherit; text-decoration:none; }
.masthead h1 a:hover { text-decoration:underline; }
.masthead h5 { margin:.25rem 0 0; color:#555; font-weight:600; }
.top-links { margin-left:auto; display:flex; gap:1rem; align-items:center; }
.top-links a { text-decoration:none; color:#111; font-weight:600; }
.top-links a[aria-current="page"] { color:#1557ff; }
.top-links a:hover { text-decoration:underline; }
.header-links { margin:.25rem 0 0; }
.header-links .info-link { font-size:.9rem; text-decoration:none; border-bottom:1px solid transparent; }
.header-links .info-link:hover { border-bottom-color:#222; }
#controls { display:flex; flex-wrap:wrap; gap:1rem; align-items:flex-end; margin-top:.5rem; }
/* Use grid so separator never wraps alone on first line. Either all three in one row or (below breakpoint) stacked. */
.filters { display:grid; grid-auto-flow:column; grid-auto-columns:max-content; column-gap:1rem; align-items:center; }
.filters label { display:flex; flex-direction:row; align-items:center; gap:.5rem; font-size:.9rem; }
.filters-separator { padding:0 1rem; font-size:.75rem; font-weight:600; letter-spacing:.5px; color:#555; opacity:.85; line-height:1; display:flex; align-items:center; }
/* Narrow layout: stack items, separator on its own row */
@media (max-width:750px){
	.filters { grid-auto-flow:row; row-gap:.6rem; }
	.filters-separator { padding:.15rem 0 .1rem; }
	/* Keep label and control aligned and compact on mobile */
	.filters label { gap:.4rem; }
}
.filters input, .filters select { 
	margin-top:0; 
	padding:.28rem .45rem; /* lighter, more compact */
	font-size:.9rem;       /* match label size */
	border:1px solid #c9c9c9;
	background:#fff;
	border-radius:4px;
	box-shadow:none;
}

/* Clear but subtle focus indication */
.filters input:focus, .filters select:focus {
	outline:2px solid #1557ff;
	outline-offset:1px;
}

/* Wider layout already uses inline label; nothing required here */
button { cursor:pointer; }
main.centered { max-width:1100px; margin:1.5rem auto 3rem; padding:0 1.25rem; }
#results.grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:1rem; align-items:start; }
.species-card { grid-column:1/-1; }
.species-card, .variable-card { background:#fff; border:1px solid #ddd; border-radius:6px; padding:.75rem .75rem 1rem; display:block; }
.species-card h2, .variable-group h2 { margin:.2rem 0 .6rem; font-size:1.05rem; }
.species-card .downloads { margin-bottom:1.25rem; font-size:.8rem; }
.species-card .downloads a { text-decoration:none; }
.images-grid { display:grid; gap:1rem; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); }
@media (min-width:800px){ .images-grid { grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); } }
@media (min-width:1100px){ .images-grid { grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); } }
.image-block { margin-bottom:1rem; }
.images-grid .image-block { margin-bottom:0; }
.image-block img { width:100%; height:auto; display:block; border:1px solid #ccc; border-radius:4px; background:#eee; }
.variable-card img { width:100%; max-width:100%; height:auto; display:block; border:1px solid #ccc; border-radius:4px; background:#eee; }
.image-meta { margin-top:.35rem; font-size:.75rem; display:flex; justify-content:space-between; align-items:center; gap:.5rem; }
.image-meta a { text-decoration:none; font-size:.75rem; border:1px solid #666; padding:.2rem .4rem; border-radius:4px; background:#f3f3f3; }
.image-block.load-error, .variable-card.load-error { background:#fff3f3; border:1px solid #e0b4b4; padding:.5rem; border-radius:4px; }
.image-error { font-size:.72rem; color:#900; line-height:1.3; }
#status { margin-bottom:1rem; font-size:.9rem; }
footer { padding:1.5rem 1.25rem; border-top:1px solid #ddd; font-size:.8rem; background:#fff; }
.empty { text-align:center; padding:2rem 1rem; grid-column:1/-1; }
@media (min-width:900px) { #results.grid { grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); } }

/* Info section */
.info-section { margin:2rem auto 3rem; padding:0 1.25rem; max-width:1100px; scroll-margin-top: 96px; }
.info-section h2 { margin:.5rem 0 1rem; scroll-margin-top: 96px; }
.info-section h3 { margin-top:1rem; }
.info-section ol { padding-left:1.2rem; }
.info-section li { margin:.3rem 0; }

/* Respect reduced motion; otherwise enable smooth anchor scrolling */
@media (prefers-reduced-motion: no-preference) {
	html { scroll-behavior: smooth; }
}
